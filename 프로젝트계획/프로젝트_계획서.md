# 100W 고효율 공진형 DC‑DC 컨버터 프로젝트 계획서

작성자: harry  
보드: ST NUCLEO‑H533RE (STM32H5)  
목표: 학부 실습 과목 수준에서 “작동 우선, 효율/출력 개선” 순으로 달성

> 표기 [TBD] 항목은 확정 필요. 초기 1주차에 결정 및 문서 업데이트.

## 1) 프로젝트 개요
- 목표 출력: 100W 급 DC‑DC 컨버터 구현 (공진형 선호, LLC half‑bridge 가정).
- 제어 대상: 1차측 주파수 가변 제어(Variable Frequency Control)로 출력 전압 조절.
- 성공 기준: 안전한 구동, 기본 보호 동작, 일정 수준의 효율 달성(중/고부하 구간 90% 이상 목표), 80W 이상 연속 운전 시연, 최종 보고서 제출.

## 2) 목표 및 성능 지표
- 정격 출력: [TBD] V_out, [TBD] A (약 100W)
- 입력 전압: [TBD] (예: 24V or 48V DC, min/nom/max 정의)
- 절연: [TBD] (요구 시 절연 파라미터 및 안전 규격 범위 명시)
- 스위칭 주파수: 공진 주파수 f0 ≈ [TBD] kHz, 운전 범위 [f_min, f_max] 설정
- 리플/정확도: V_out 리플 [TBD] mV, 부하/입력변동 시 오차 [TBD] %
- 효율: ≥ 90% @ [TBD] 부하 이상 (부하 포인트별 측정)

## 3) 요구사항 및 제약
- 보드 제약: H533RE 고급 타이머(TIM1)로 상보 PWM 및 데드타임, ADC 타이머 트리거 샘플링 사용.
- 부품 조달: 변압기 코어/권선, 고속 다이오드/모스펫, 공진 커패시터, 게이트드라이버 등 조달 리드타임 고려.
- 안전: 초기가동은 저전압/전류제한 전원 사용, 하드웨어 KILL(게이트 차단) 스위치 필수.

## 4) 시스템 개략 구성
- 1차: Half‑Bridge MOSFET + 게이트드라이버 + 공진탱크(Lr, Cr) + 변압기(자화인덕턴스 Lm 포함)
- 2차: 정류(초기 다이오드, 필요 시 SR 컨트롤러) + 출력필터 + 센싱 회로
- 제어: MCU(TIM1 PWM, ADC DMA, UART 로그), 주파수 제어 + 외부 루프(PI)로 전압 조절
- 보호: OCP/OVP/UVLO/OTP, 브레이크 입력, 결함 래치 및 복귀 로직

## 5) 토폴로지 및 제어 전략
- 토폴로지: LLC Half‑Bridge (단, 난이도 과다 시 벅/하프브리지 하드스위칭 백업 경로 마련)
- 제어: 주파수 가변 제어로 출력 전압 유지, 공진점 근방에서 ZVS 영역 유지
- 시동: 소프트스타트(공진점 위쪽 주파수에서 시작 → 점진적으로 하향), 과전류 제한 동반

## 6) 사양 확정 체크리스트 [TBD]
- 입력 전압 범위: Vin_min / Vin_nom / Vin_max
- 출력 사양: V_out, I_out, 과도 응답, 리플 허용치
- 절연 요구: 유/무, 절연전압, 안전거리
- 공진 설계: 목표 f0, Lr, Lm, Cr, 변압기 권선비
- 스위칭 범위 제한: f_min, f_max (ZVS/손실/타이머 분해능 고려)

## 7) 일정 / 마일스톤(예시 12주)
- 주1: 요구사항 확정, 위험 식별, 부품 예산/조달 계획 수립
- 주2: 회로 토폴로지 및 공진 파라미터 1차 설계, 부품 선정
- 주3: 펌웨어 스켈레톤(UART/타이머/ADC) 구현 및 벤치 검증(무전력)
- 주4: 상세 회로도/PCB 초안, 부품 주문(코어/커패시터/모스펫/드라이버)
- 주5: 저전력 구동 실험(더미로드, 저입력전압), 파형 검증, 보호 동작 확인
- 주6: 기본 전압 제어(PI+주파수) 구현, 20–40W 영역 검증
- 주7: 50–70W 확장, 열/효율 측정, 스너버/주파수 범위 조정
- 주8: 100W 근접 운전 시도, 레이아웃/부품 재선정 필요 시 반영
- 주9: 안정성/효율 튜닝, 보고서 데이터 수집(효율곡선, 파형)
- 주10: 예비발표/리허설, 이슈 수정
- 주11: 최종 실험 반복, 문서/발표자료 정리
- 주12: 최종 발표 및 제출

## 8) 하드웨어 설계 계획
- 변압기/공진: 코어(형상/소재) 선정, 권선비 결정, Lr/Lm/Cr 계산, 온도상승 예측
- 스위치/정류: MOSFET 전압/전류/손실, 다이오드 vs SR(후순위) 결정
- 게이트드라이버: 하이사이드/로우사이드 드라이버, 데드타임, 부트스트랩, UVLO
- 센싱: 분압(출력/입력), 전류센스(샌트+증폭/CT 등), 필터/대역폭
- 보호: 입력퓨즈/서지흡수, 브레이크 신호, OCP/OVP/UVLO/OTP 경로
- 레이아웃: 하프브리지 루프 최소화, 탱크 루프 짧게, 켈빈센스, GND 분리/단일점 접속

## 9) 펌웨어 설계 계획
- PWM: TIM1 상보 출력, center‑aligned, 데드타임, 긴급정지(브레이크)
- ADC: 타이머 트리거 샘플링, DMA, 보정 및 스케일링
- 제어루프: 주기적(예: 10–20kHz) 컨트롤 틱, V_out 외부 루프(PI) → 목표 주파수 제한[f_min,f_max]
- 상태머신: INIT → PRECHARGE → SOFT_START → RUN → FAULT(래치/복귀)
- 텔레메트리: UART CLI(파라미터 조회/수정, 로그, Fault 리드백)
- 파라미터: config 헤더로 보호한계/루프게인/주파수 범위 관리

## 10) 시험 및 검증 계획
- 단계적 부하: 10%, 25%, 50%, 75%, 100% 로드 포인트에서 효율/온도 측정
- 파형 측정: 게이트 Vgs, 드레인/스위칭 노드, 공진전류/전압, 출력 리플
- 보호시험: 인위적 과전류/과전압/저입력/과열 상황 재현(저에너지 조건)
- 열측정: MOSFET/변압기/정류부/드라이버의 표면온도 점검
- EMI 간이점검: 근접필드 프로브 또는 간단 청감 테스트

## 11) 안전 수칙
- 초기: 저전압, 전류 제한, 절연 전원 사용. 한 손 규칙/보안경/정리정돈.
- 장비: 절연 프로브, KILL 스위치, 절연 매트, 화재 대비.
- 문서화: 시험 단계별 체크리스트와 비상 절차 기록.

## 12) 위험요인 및 대응
- 공진 설계 난이도: 단순 벅 컨버터 백업안 준비(최소 구동 시연 보장).
- 부품 리드타임: 코어/드라이버 우선 주문, 대체부품 리스트 준비.
- 타이머/분해능 한계: 주파수 범위를 하향 조정, 파라미터 재설계.
- SR 구현 난이도: 1차 시연은 다이오드 정류로 단순화, 필요 시 SR 컨트롤러 추가.
- EMI/발진: 스너버/댐핑 저항 여유, 아날로그 GND 및 루프 최소화로 개선.

## 13) 준비물 및 장비
- 전원장치(절연, 전류제한), 오실로스코프, 차동/전류 프로브, 멀티미터 2대 이상, IR 카메라(있으면)
- NUCLEO‑H533RE 보드, 게이트드라이버, MOSFET, 변압기 코어/권선재, 공진용 C, 정류소자
- 방열판/서멀패드, 스너버 소자, 샌트/증폭기, NTC

## 14) 제출물(최종)
- 설계문서: 사양, 회로, 공진/변압기 계산, 보호설계 근거
- 펌웨어: 빌드/플래시 방법, 주요 파라미터 표, 상태도
- 시험결과: 효율 곡선/파형/온도/보호시험 로그, 분석
- 데모: 80–100W 구동 시연(가능 범위 내)

## 15) 다음 할 일(즉시)
- [ ] 입력/출력/절연 요구 정의 확정
- [ ] 공진 목표 주파수/탱크 파라미터 1차 산정
- [ ] 게이트드라이버/MOSFET/정류부 1차 부품리스트(BOM) 작성 및 재고 확인
- [ ] 펌웨어 스켈레톤(클럭/GPIO/UART/TIM1/ADC DMA) 프로젝트 생성
- [ ] 벤치(무전력)에서 PWM/ADC 파형 및 UART 통신 확인

